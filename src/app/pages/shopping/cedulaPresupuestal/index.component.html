<p-toast position="top-left" baseZIndex="99999"></p-toast>

<p-table
  [(selection)]="data"
  #dt
  [responsive]="true"
  styleClass="p-datatable-gridlines p-datatable-sm"
  [value]="data"
  [rowHover]="true"
  currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
  [showCurrentPageReport]="true"
  [globalFilterFields]="['customer', 'year']"
  [autoLayout]="true"
>
  <ng-template pTemplate="caption">
    <app-table-header
      [title]="'Listado de Cedulas Presupuestales'"
      (add)="showModalAddOrEdit({ id: 0, title: 'Nuevo Registro' })"
      [dt]="dt"
      [rolAuth]="autorizado"
    ></app-table-header>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th scope="col" style="width: 65%" pSortableColumn="customerId">
        Cliente
        <p-sortIcon field="customerId"></p-sortIcon>
      </th>
      <th scope="col" style="width: 10%" pSortableColumn="anio">
        AÃ±o
        <p-sortIcon field="anio"></p-sortIcon>
      </th>
      <th scope="col" style="width: 5%">Opciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
    <tr>
      <td class="p-column-title">
        <small>{{ item.customer }}</small>
      </td>
      <td class="p-column-title">
        <small>{{ item.anio }}</small>
      </td>
      <td class="p-column-title">
        <!-- Detalles -->
        <button
          class="btn btn-sm m-1 m-1"
          [routerLink]="['/shopping/budgetCardDetail', item.id]"
        >
          <span class="fas fa-file-invoice-dollar text-info"></span>
        </button>
        <!-- Detalles -->
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="paginatorleft">
    <app-table-footer [data]="data"></app-table-footer>
  </ng-template>
</p-table>
<!-- Table PrimeNg -->
