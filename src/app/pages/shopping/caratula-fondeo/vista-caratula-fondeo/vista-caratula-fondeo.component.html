<!-- Table PrimeNg -->
<p-contextMenu #cm [model]="items"></p-contextMenu>

<!-- <button
  type="button"
  pButton
  pRipple
  icon="pi pi-file-excel"
  (click)="exportExcel()"
  class="p-button-success p-mr-2"
  pTooltip="XLS"
  tooltipPosition="bottom"
></button> -->
<!-- clg -->

<div *ngIf="data === undefined">
  <div class="alert alert-default-danger">Seleccione Datos</div>
</div>
<!-- printSectionId="content" -->
<div id="export" #export *ngIf="data !== undefined">
  <div class="row">
    <div class="col-sm-2 text-left">
      <img
        [src]="logoLuxury"
        alt=""
        style="width: 100px; height: 150px; max-width: 100%; height: auto"
      />
    </div>
    <div class="col-sm-8 text-center align-self-center">
      <h5 class="h5">{{ nameCustomer }}</h5>
      <h6 class="h6">Reporte de Cuentas por Pagar a Proveedores</h6>
      <h6 class="h6">CUENTA {{ cuenta }}</h6>
      <h6 class="h6">{{ datosPago }}</h6>
    </div>
    <div class="col-sm-2 text-right">
      <img
        [src]="logoCustomer"
        alt=""
        style="width: 100px; height: 150px; max-width: 100%; height: auto"
      />
    </div>
  </div>
  <hr />
  <p-table
    [autoLayout]="true"
    [value]="data"
    styleClass=" p-datatable-sm table-fondeo p-datatable-striped"
    [contextMenu]="cm"
    [(contextMenuSelection)]="dataSelect"
    dataKey="code"
    [columns]="data"
    [reorderableColumns]="true"
  >
    <ng-template pTemplate="header">
      <tr class="table-fondeo">
        <th style="width: 3%" class="small" scope="col">No.</th>
        <th style="width: 5%" class="small" scope="col">FECHA</th>
        <th style="width: 10%" class="small" scope="col">
          PROVEEDOR Y/O ACREEDOR
        </th>
        <th style="width: 7%" class="small" scope="col">No. FACTURA</th>
        <th style="width: 20%" class="small" scope="col">CONCEPTO</th>
        <th style="width: 6%" class="small" scope="col">IMPORTE</th>
        <th style="width: 6%" class="small" scope="col">I.V.A.</th>
        <th style="width: 6%" class="small" scope="col">RET. 6%</th>
        <!-- <th style="width: 6%" class="small" scope="col">SUB-TOTAL</th> -->
        <th style="width: 6%" class="small" scope="col">TOTALES</th>
        <th style="width: 7%" class="small" scope="col">BANCO</th>
        <th style="width: 8%" class="small" scope="col">CUENTA DEPÃ“SITO</th>
        <!-- <th style="width: 8%" class="small" scope="col">CLAVE INTERBANCARIA</th> -->
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-item let-i="rowIndex">
      <tr [pContextMenuRow]="item" [pReorderableRow]="i">
        <td pReorderableRowHandle>
          <small>{{ i + 1 }} </small>
        </td>
        <td>
          <small>
            {{ item.fecha | date: "dd/MM/yyyy" }}
          </small>
        </td>
        <td>
          <small>
            {{ item.acreedor }}
          </small>
        </td>
        <td>
          <small>
            {{ item.factura }}
          </small>
        </td>
        <td>
          <small>
            {{ item.concepto }}
          </small>
        </td>
        <td>
          <small>
            {{ item.importe | CurrencyMexicoPipe }}
          </small>
        </td>
        <td>
          <small>
            {{ item.iva | CurrencyMexicoPipe }}
          </small>
        </td>
        <td>
          <small>
            {{ item.retencion | CurrencyMexicoPipe }}
          </small>
        </td>
        <!-- <td>
          <small>
            {{ item.subTotal | CurrencyMexicoPipe }}
          </small>
        </td> -->
        <td>
          <small>
            {{ item.totales | CurrencyMexicoPipe }}
          </small>
        </td>
        <td>
          <small>
            {{ item.banco }}
          </small>
        </td>
        <td>
          <small>
            {{ item.cuentaDeposito }}
          </small>
        </td>
        <!-- <td>
          <small>
            {{ item.claveInterbancaria }}
          </small>
        </td> -->
      </tr>
    </ng-template>

    <ng-template pTemplate="footer">
      <!-- Totales -->
      <tr>
        <td colspan="5"></td>
        <td class="p-fluid">
          <small>{{ totalImporte | CurrencyMexicoPipe }}</small>
        </td>
        <td class="p-fluid">
          <small>{{ totalIva | CurrencyMexicoPipe }}</small>
        </td>
        <td class="p-fluid">
          <small>{{ totalRetencion | CurrencyMexicoPipe }}</small>
        </td>

        <td class="p-fluid">
          <small>{{ totalTotales | CurrencyMexicoPipe }}</small>
        </td>
        <td colspan="3"></td>
      </tr>
      <!-- Totales -->
    </ng-template>
  </p-table>
</div>
<br />
<br />
<br />
<div class="row">
  <div class="col-sm-2"></div>
  <div class="col-sm-3 text-center">
    <br />
    <hr />
    <p>
      {{ user }}
    </p>
    <p>Entregado por</p>
  </div>
  <div class="col-sm-2"></div>
  <div class="col-sm-3 text-center">
    <br />
    <hr />
    <p>Matias Luis Abramoff</p>
    <p>Pago Autorizado por</p>
  </div>
  <div class="col-sm-2"></div>
</div>
